{"version":3,"sources":["services/pixabiApi.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js"],"names":["query","page","axios","get","then","res","data","hits","Searchbar","state","changeQuery","e","setState","currentTarget","value","onSubmitQuery","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","url","large","onOpen","src","alt","onClick","ImageGallery","open","map","webformatURL","largeImageURL","Button","Loading","color","height","width","modalRoot","document","querySelector","Modal","keyDown","code","onClose","clickOnBackDrop","target","window","addEventListener","removeEventListener","createPortal","children","App","picturs","loading","modal","onChangeQuery","fetchPictures","options","API","prev","finally","toogleModal","openPictur","prevProps","prevState","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.25484e42.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst fetchPictures = ({ query = \"\", page = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=19059245-b594f8376705d9c7e4f842c86&image_type=photo&orientation=horizontal&per_page=12`\r\n      // `https://pixabay.com/api/?key=19059245-b594f8376705d9c7e4f842c86&q=${query}&page=${page}&per_page=12`\r\n    )\r\n    .then((res) => res.data.hits);\r\n};\r\n\r\nexport default { fetchPictures };\r\n\r\n// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\n","import \"./Searchbar.css\";\r\nimport React, { Component } from \"react\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  changeQuery = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  onSubmitQuery = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.onSubmitQuery}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.changeQuery}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import \"./ImageGalleryItem.css\";\r\nimport React from \"react\";\r\n\r\nconst ImageGalleryItem = ({ id, url, large, onOpen }) => {\r\n  return (\r\n    <li key={id} className=\"ImageGalleryItem\">\r\n      <img\r\n        src={url}\r\n        alt=\"\"\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={() => onOpen(large)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import \"./ImageGallery.css\";\r\nimport React from \"react\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ data, open }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {data.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          url={webformatURL}\r\n          large={largeImageURL}\r\n          onOpen={open}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import \"./Button.css\";\r\nimport React from \"react\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={() => onClick()}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className=\"Loader\">\r\n      <Loader type=\"Bars\" color=\"#3f51b5\" height={50} width={50} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import \"./Modal.css\";\r\nimport React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.keyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.keyDown);\r\n  }\r\n\r\n  keyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  clickOnBackDrop = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.clickOnBackDrop}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.children} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n\r\n    // (\r\n\r\n    // );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","// import \"./App.css\";\nimport './App.css';\nimport React, { Component } from 'react';\nimport API from './services/pixabiApi';\n\n// components\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Loading from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    picturs: [],\n    page: 1,\n    query: '',\n    loading: false,\n    modal: false,\n    large: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchPictures();\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      query: query,\n      picturs: [],\n      page: 1,\n    });\n  };\n\n  fetchPictures = () => {\n    const { query, page } = this.state;\n    const options = {\n      query,\n      page,\n    };\n\n    this.setState({ loading: true });\n\n    API.fetchPictures(options)\n      .then(picturs =>\n        this.setState(prev => ({\n          picturs: [...prev.picturs, ...picturs],\n          page: prev.page + 1,\n        })),\n      )\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  toogleModal = e => {\n    this.setState(({ modal }) => ({ modal: !modal, large: e }));\n  };\n\n  openPictur = e => {\n    this.toogleModal(e);\n  };\n\n  render() {\n    const { picturs, loading, modal, large } = this.state;\n\n    return (\n      <>\n        {modal && <Modal onClose={this.toogleModal}>{large}</Modal>}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery data={picturs} open={this.openPictur} />\n\n        {loading && <Loading />}\n\n        {picturs.length > 0 && !loading && (\n          <Button onClick={this.fetchPictures} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import \"./styles.css\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}